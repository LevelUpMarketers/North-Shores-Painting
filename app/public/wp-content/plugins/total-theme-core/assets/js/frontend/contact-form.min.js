"function"!=typeof window.vcexContactForm&&(window.vcexContactForm=function(){document.querySelectorAll(".vcex-contact-form form").forEach((function(e){e.addEventListener("submit",(function(e){const t=e.target.closest(".vcex-contact-form"),c=t.querySelector("button.vcex-contact-form__submit"),a=t.querySelector(".vcex-contact-form__spinner"),o=t.querySelector('input[name="vcex_cf_name"]'),s=t.querySelector('input[name="vcex_cf_email"]'),n=t.querySelector('textarea[name="vcex_cf_message"]'),r=t.querySelector(".vcex-contact-form__privacy .vcex-contact-form__checkbox"),l=t.querySelector(".vcex-contact-form__notice"),i=t.dataset.ajaxurl,d=t.dataset.nonce,m=t.dataset.subject,u=t.dataset.recaptcha,v=t.dataset.post_id||0;let x="",f=t.querySelector(".vcex-contact-form__name .vcex-contact-form__label");f=f?f.firstChild.data:"";let _=t.querySelector(".vcex-contact-form__email .vcex-contact-form__label");_=_?_.firstChild.data:"";let p=t.querySelector(".vcex-contact-form__message .vcex-contact-form__label");p=p?p.firstChild.data:"";const h=function(){t.classList.add("vcex-contact-form--submitting"),t.classList.remove("vcex-contact-form--error"),t.classList.remove("vcex-contact-form--success"),l.classList.add("wpex-hidden"),a.classList.remove("wpex-hidden"),c.disabled=!0;const e=new XMLHttpRequest;let r=`action=vcex_contact_form_action&post_id=${v}&name=${o.value}&subject=${m}&label_name=${f}&label_email=${_}&label_message=${p}&email=${s.value}&message=${n.value}&recaptcha=${x}&nonce=${d}`;e.onload=function(){t.classList.remove("vcex-contact-form--submitting"),a.classList.add("wpex-hidden"),c.disabled=!1;const r=JSON.parse(this.responseText);if(4==e.readyState&&200==e.status)if("success"===r)o.value="",s.value="",n.value="",t.classList.remove("vcex-contact-form--success"),l.classList.remove("wpex-hidden","wpex-alert-error"),l.classList.add("wpex-alert-success"),l.innerHTML=t.dataset.noticeSuccess,document.dispatchEvent(new CustomEvent("vcex:contactFormSent",{detail:{form:t}}));else t.classList.add("vcex-contact-form--error"),l.classList.remove("wpex-hidden","wpex-alert-success"),l.classList.add("wpex-alert-error"),l.innerHTML=t.dataset.noticeError,document.dispatchEvent(new CustomEvent("vcex:contactFormFailed",{detail:{form:t,error:this.responseText}})),console.log(this.responseText);else console.log(this.responseText)},e.open("POST",i,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.send(r)};!r||r.checked?(u&&"object"==typeof grecaptcha?grecaptcha.ready((function(){grecaptcha.execute(u,{action:"vcex_contact_form"}).then((function(e){x=e,h()}))})):h(),e.preventDefault()):e.preventDefault()}))}))}),vcexContactForm();