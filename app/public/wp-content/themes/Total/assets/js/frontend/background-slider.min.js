"function"!=typeof window.wpexBackgroundSlider&&(window.wpexBackgroundSlider=e=>{document.querySelectorAll(".wpex-background-slider").forEach((e=>{if(e.dataset.hadhInit)return;const t=JSON.parse(e.getAttribute("data-settings"));let i=t.images;if(!i)return;t.randomize&&(i=t.images.sort((()=>Math.random()-.5)));const r=parseInt(t.interval);let a=0;if("ken_burns"===t.animation){const e=t.zoomDelay?parseInt(t.zoomDelay):250;a=r+e}e.getAttribute("data-init")||(((e,t)=>{t.forEach(((t,i)=>{let r=document.createElement("div");r.className="wpex-background-slider__slide wpex-absolute wpex-inset-0 wpex-transition-opacity",r.className+=0===i?" wpex-background-slider__slide--active":" wpex-opacity-0";let a=document.createElement("img");a.setAttribute("src",t.src),a.setAttribute("alt",t.alt),a.className="wpex-object-cover wpex-h-100 wpex-w-100",r.appendChild(a),e.appendChild(r)}))})(e,i),e.setAttribute("data-init","true"));const n=e.querySelectorAll(".wpex-background-slider__slide");n.forEach((e=>{a&&(e.style.animationDuration=a+"ms"),e.style.transitionDuration=parseInt(t.fadeDuration)+"ms"}));const s=()=>{e.querySelector(".wpex-background-slider__slide--animating")||e.querySelector(".wpex-background-slider__slide").classList.add("wpex-background-slider__slide--animating"),n.length>1&&((e,t,i)=>{let r=e.currentSlide||0;const a=e.querySelectorAll(".wpex-background-slider__slide");e.animationInterval=setInterval((()=>{let t;if(a.forEach((e=>{e.classList.contains("wpex-background-slider__slide--active")&&(t=e,(i||r!==a.length-1)&&(t.classList.remove("wpex-background-slider__slide--active"),t.classList.add("wpex-opacity-0")))})),!i&&r===a.length-1)return clearInterval(e.animationInterval),void(e.animationInterval=null);r=r!==a.length-1?r+1:0,a[r].classList.remove("wpex-opacity-0"),a[r].classList.add("wpex-background-slider__slide--active","wpex-background-slider__slide--animating"),a[r].addEventListener("animationend",(()=>{t.classList.remove("wpex-background-slider__slide--animating")})),e.currentSlide=r}),t)})(e,r,t.loop)};if(t.trigger&&"load"!==t.trigger){if("scroll"===t.trigger){let i=void 0===t.observerThreshold?.5:t.observerThreshold;((e,t,i)=>{const r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(t(),r.disconnect())}))}),{threshold:i});r.observe(e)})(e,s,i)}}else s()}))}),wpexBackgroundSlider();