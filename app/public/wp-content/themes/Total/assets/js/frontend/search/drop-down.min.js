!function(){const e=document.querySelector("#searchform-dropdown");if(!e)return;let t=!1,s=!1,n=!1,o=!1,r=!1;const a=e.querySelector('input[type="search"]'),c=()=>t?d():i(),i=()=>{t||r||(t=!0,n=!1,r=!0,document.body.classList.add("header-search-is-open"),e.classList.add("show"),e.classList.remove("wpex-invisible","wpex-opacity-0"),s&&(s.setAttribute("aria-expanded","true"),s.closest("li")?.classList.add("active")),"function"==typeof jQuery&&jQuery(document).trigger("show.wpex.menuSearch"),e.addEventListener("transitionend",(function t(){o=wpex.focusOnElement(e,a),r=!1,e.removeEventListener("transitionend",t)})),document.addEventListener("click",l),e.addEventListener("keydown",u))},d=()=>{t&&!r&&(t=!1,r=!0,document.body.classList.remove("header-search-is-open"),e.classList.remove("show"),e.classList.add("wpex-invisible","wpex-opacity-0"),s&&(s.setAttribute("aria-expanded","false"),s.closest("li")?.classList.remove("active"),n&&s.focus({preventScroll:!0,focusVisible:!1})),document.removeEventListener("click",l),e.removeEventListener("keydown",u),o&&(o(),o=null),r=!1)},l=e=>{e.target.closest('#searchform-dropdown,[data-wpex-toggle="theme"],a.search-dropdown-toggle,a.mobile-menu-search,.wpex-header-search-icon button')||d()},u=e=>{t&&"Escape"===e.key&&(n=!0,d())};document.querySelectorAll("a.search-dropdown-toggle,a.mobile-menu-search,.wpex-header-search-icon button").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),s=e,c()})),e.addEventListener("keydown",(t=>{" "===t.key&&(t.preventDefault(),s=e,c())}))}))}();