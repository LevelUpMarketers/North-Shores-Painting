!function(){const e=document.querySelector("#wpex-searchform-overlay");if(!e)return;let t=!1,r=!1,s=!1,a=!1,o=!1;const n=e.querySelector('input[type="search"]'),c=()=>t?l():i(),i=()=>{t||o||(t=!0,s=!1,o=!0,document.body.classList.add("header-search-is-open"),e.classList.add("active"),e.classList.remove("wpex-invisible","wpex-opacity-0"),wpex.htmlNoScroll("add"),r&&(r.setAttribute("aria-expanded","true"),r.closest("li")?.classList.add("active")),"function"==typeof jQuery&&jQuery(document).trigger("show.wpex.menuSearch"),e.addEventListener("transitionend",(function t(){a=wpex.focusOnElement(e,n),o=!1,e.removeEventListener("transitionend",t)})),document.addEventListener("click",d),e.addEventListener("keydown",v))},l=()=>{t&&!o&&(t=!1,o=!0,document.body.classList.remove("header-search-is-open"),e.classList.remove("active"),e.classList.add("wpex-invisible","wpex-opacity-0"),r&&(r.setAttribute("aria-expanded","false"),r.closest("li")?.classList.remove("active"),s&&r.focus({preventScroll:!0,focusVisible:!1})),e.addEventListener("transitionend",(function t(){wpex.htmlNoScroll("remove"),o=!1,e.removeEventListener("transitionend",t)})),document.removeEventListener("click",d),e.removeEventListener("keydown",v),a&&(a(),a=null))},d=e=>{t&&!e.target.closest(".searchform--overlay,a.search-overlay-toggle,a.mobile-menu-search,li.search-overlay-toggle > a,.wpex-header-search-icon button")&&l()},v=e=>{"Escape"===e.key?(s=!0,l()):!e.target.closest(".wpex-fs-overlay__close")||" "!==e.key&&"Enter"!==e.key||(s=!0)};document.querySelectorAll('a.search-overlay-toggle,a.mobile-menu-search,li.search-overlay-toggle > a,[aria-controls="wpex-searchform-overlay"]').forEach((e=>{e.addEventListener("click",(t=>{r=e,t.preventDefault(),c()})),e.addEventListener("keydown",(t=>{" "===t.key&&(r=e,t.preventDefault(),c())}))}))}();